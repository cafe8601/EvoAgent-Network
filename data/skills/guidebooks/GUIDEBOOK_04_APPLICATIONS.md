# 🧩 Part 4: 애플리케이션 응용 (Applications)

> **"지능형 서비스 구현: 에이전트부터 멀티모달까지"**
>
> 이 가이드북은 LLM을 활용해 실제 가치를 창출하는 애플리케이션 기술(14, 15, 18)과 프롬프트 엔지니어링(16), 안전성(07), 신기술(19)을 다룹니다.

---

## 📑 목차
- [07. Safety & Alignment (안전성 정렬)](#07-safety--alignment-안전성-정렬)
- [14. Agents (AI 에이전트)](#14-agents-ai-에이전트)
- [15. RAG (검색 증강 생성)](#15-rag-검색-증강-생성)
- [16. Prompt Engineering (프롬프트 엔지니어링)](#16-prompt-engineering-프롬프트-엔지니어링)
- [18. Multimodal (멀티모달)](#18-multimodal-멀티모달)
- [19. Emerging Techniques (신기술)](#19-emerging-techniques-신기술)
- [⬅️ 메인으로 돌아가기](./GUIDEBOOK_INDEX.md)

---

## 07. Safety & Alignment (안전성 정렬)

### 📖 설명
LLM의 출력을 제어하고 유해성을 방지하는 안전 가드레일 기술입니다. 기업용 AI 서비스에서 필수적인 윤리적, 법적 요구사항을 준수하도록 합니다.

### 🎯 언제 사용하나요?
- 챗봇이 욕설, 혐오 발언, 경쟁사 언급을 하지 못하게 막을 때
- 사용자의 프롬프트 주입(Prompt Injection) 공격을 방어할 때
- 개인정보(PII) 유출을 실시간으로 차단할 때
- 특정 주제(정치, 종교 등)에 대한 답변을 회피하도록 설정할 때

### 📦 핵심 도구
| 도구 | 설명 | 사용 사례 |
|------|------|----------|
| **NeMo Guardrails** | NVIDIA 대화 안전 프레임워크 | Colang으로 대화 흐름 제어, 주제 이탈 방지 |
| **LlamaGuard** | Meta의 입력/출력 안전 분류기 | 텍스트 유해성 실시간 판별 |
| **Presidio** | Microsoft PII 식별 및 마스킹 | 개인정보 자동 비식별화 |

### 💡 사용 예시 프롬프트

```markdown
🔹 시나리오 1: 주제 제한 가드레일
"NeMo Guardrails를 사용해서 챗봇이 '금융 투자 조언'을 요구받으면
'저는 투자 조언을 드릴 수 없습니다'라고 정중히 거절하도록 설정해줘."

🔹 시나리오 2: 입력/출력 필터링
"LlamaGuard를 파이프라인에 통합해서 사용자 입력의 욕설을 감지하고,
모델의 출력이 안전한지 검사하는 코드를 작성해줘."

🔹 시나리오 3: 개인정보 마스킹
"사용자가 전화번호나 이메일을 입력하면 이를 [PII]로 마스킹하여
LLM에 전달하고, 로그에는 남지 않도록 Presidio를 설정해줘."
```

### 🔗 연계 스킬
- **→ 14-Agents**: 에이전트 행동 제약
- **→ 06-Post-training**: 안전성을 위한 모델 학습

---

## 14. Agents (AI 에이전트)

### 📖 설명
단순 답변을 넘어 도구(검색, 계산기, API)를 사용하여 자율적으로 작업을 수행하는 AI 에이전트를 구축하는 기술입니다. ReAct, Plan-and-Solve 등의 패턴을 사용합니다.

### 🎯 언제 사용하나요?
- 실시간 데이터(날씨, 주가) 검색이 필요한 챗봇을 만들 때
- 복잡한 작업(여행 계획, 데이터 분석)을 단계별로 수행해야 할 때
- 사내 API나 데이터베이스와 연동하여 동작하는 AI를 만들 때
- 자율적으로 오류를 수정하고 목표를 달성하는 시스템이 필요할 때

### 📦 핵심 도구
| 도구 | 설명 | 특징 |
|------|------|------|
| **LangChain** | 가장 대중적인 에이전트 프레임워크 | 방대한 도구 생태계, 다양한 에이전트 타입 |
| **LangGraph** | 그래프 기반 에이전트 오케스트레이션 | 복잡한 루프, 조건부 분기, 상태 제어 용이 |
| **AutoGen** | 멀티 에이전트 대화 프레임워크 | 여러 에이전트 간의 협업 시뮬레이션 |
| **CrewAI** | 역할 기반 에이전트 협업 | 팀 조직 형태의 에이전트 설계 |

### 💡 사용 예시 프롬프트

```markdown
🔹 시나리오 1: ReAct 에이전트
"LangChain으로 Google 검색과 Python REPL 도구를 사용할 수 있는
ReAct 에이전트를 구현해줘. 최신 뉴스를 검색해서 요약하게 해줘."

🔹 시나리오 2: 멀티 에이전트 협업
"CrewAI를 사용해서 '기획자', '개발자', '테스터' 에이전트를 만들고,
하나의 소프트웨어 기능을 구현하기 위해 협업하는 과정을 시뮬레이션해줘."

🔹 시나리오 3: 상태 기반 워크플로우
"LangGraph를 사용해서 검색 결과가 불충분하면 다시 검색하고,
충분하면 답변을 생성하는 순환형(Cyclic) 에이전트 흐름을 만들어줘."
```

### 🔗 연계 스킬
- **→ 15-RAG**: 에이전트의 지식 소스로 RAG 활용
- **→ 21-Multi-Agent System**: 엔터프라이즈급 멀티 에이전트 확장

---

## 15. RAG (검색 증강 생성)

### 📖 설명
벡터 데이터베이스에 저장된 외부 지식을 검색하여 LLM에 제공함으로써, 할루시네이션을 줄이고 최신/사내 정보를 답변에 포함시키는 기술입니다.

### 🎯 언제 사용하나요?
- 사내 위키, 매뉴얼, PDF 문서를 기반으로 답변하는 챗봇을 만들 때
- LLM의 학습 데이터에 없는 최신 뉴스나 정보를 반영해야 할 때
- 출처가 명시된 신뢰할 수 있는 답변이 필요할 때
- 모델 재학습 없이 지식을 업데이트하고 싶을 때

### 📦 핵심 도구
| 도구 | 설명 | 용도 |
|------|------|------|
| **LlamaIndex** | 데이터 연결/인덱싱 최적화 프레임워크 | 다양한 데이터 로더, 고급 검색 전략 |
| **Chroma / FAISS** | 벡터 데이터베이스 | 문서 임베딩 저장 및 유사도 검색 |
| **Pinecone** | 매니지드 벡터 DB | 대규모 프로덕션 환경 |
| **Ragas** | RAG 파이프라인 평가 | 검색 정확도, 답변 생성 품질 평가 |

### 💡 사용 예시 프롬프트

```markdown
🔹 시나리오 1: PDF 문서 Q&A
"LlamaIndex로 100페이지 분량의 PDF 매뉴얼을 인덱싱하고,
사용자 질문에 대해 해당 페이지 내용을 참조하여 답변하는 시스템을 구현해줘."

🔹 시나리오 2: 하이브리드 검색
"키워드 검색(BM25)과 벡터 검색(Dense)을 결합하여
정확도를 높이는 하이브리드 검색 시스템을 ChromaDB로 구현해줘."

🔹 시나리오 3: 고급 RAG 전략
"단순 검색 대신, 질문을 여러 개의 하위 질문으로 나누어 검색하는
'Sub-question Query Engine' 패턴을 적용해줘."
```

### 🔗 연계 스킬
- **→ 05-Data Processing**: 문서 청킹 및 전처리
- **→ 16-Prompt Engineering**: 검색 결과 통합 프롬프트 최적화

---

## 16. Prompt Engineering (프롬프트 엔지니어링)

### 📖 설명
LLM의 성능을 극대화하기 위해 입력을 체계적으로 설계하는 기술입니다. 단순한 문장 작성을 넘어, 데이터 기반 최적화(DSPy)와 구조화된 출력(JSON)을 다룹니다.

### 🎯 언제 사용하나요?
- 모델이 JSON 등 특정 포맷을 완벽하게 지키도록 강제할 때
- 수작업 프롬프트 튜닝 없이 데이터만으로 프롬프트를 최적화할 때 (DSPy)
- 복잡한 추론 과정을 Chain-of-Thought로 유도할 때
- 시스템 프롬프트를 통해 페르소나와 제약조건을 설정할 때

### 📦 핵심 도구
| 도구 | 설명 | 특징 |
|------|------|------|
| **DSPy** | 선언적 LM 프로그래밍 프레임워크 | 프롬프트 자동 최적화, 컴파일러 방식 |
| **Instructor** | 구조화된 데이터 추출 | Pydantic 모델을 사용한 응답 검증 |
| **Guidance** | 제약 기반 생성 언어 | 템플릿과 로직을 섞어 생성 제어 |
| **Outlines** | 정규표현식/JSON 스키마 제약 | 완벽한 형식 준수 보장 |

### 💡 사용 예시 프롬프트

```markdown
🔹 시나리오 1: 프롬프트 자동 최적화
"DSPy를 사용하여 RAG 시스템의 질문 생성 모듈을 정의하고,
학습 데이터를 통해 프롬프트를 자동으로 최적화(Compile)하는 코드를 보여줘."

🔹 시나리오 2: 구조화된 정보 추출
"Instructor 라이브러리를 사용해서 비정형 텍스트(이메일)에서
약속 시간, 장소, 참여자를 Pydantic 객체로 추출하는 방법을 알려줘."

🔹 시나리오 3: 정규표현식 제약
"Outlines를 사용하여 모델이 반드시 유효한 이메일 주소 형식이나
특정 포맷의 날짜만 생성하도록 강제하는 방법을 보여줘."
```

### 🔗 연계 스킬
- **→ 11-Evaluation**: 최적화된 프롬프트 성능 평가
- **→ 14-Agents**: 에이전트 지시문 작성

---

## 18. Multimodal (멀티모달)

### 📖 설명
텍스트뿐만 아니라 이미지, 오디오, 비디오 등 다양한 형태의 데이터를 이해하고 생성하는 기술입니다. Vision LLM, 음성 인식/합성 등을 포함합니다.

### 🎯 언제 사용하나요?
- 이미지에 무엇이 있는지 설명하거나 질문에 답해야 할 때 (VQA)
- 회의 녹음 파일이나 유튜브 영상을 텍스트로 변환할 때 (STT)
- 텍스트 설명에 맞는 이미지를 생성할 때
- 시각 장애인을 위한 화면 해설 서비스를 만들 때

### 📦 핵심 도구
| 도구 | 설명 | 기능 |
|------|------|------|
| **Whisper** | OpenAI의 음성 인식 모델 | 99개 언어 STT, 번역 지원 |
| **CLIP / SigLIP** | 이미지-텍스트 연결 모델 | 이미지 검색, 제로샷 분류 |
| **LLaVA / Qwen-VL** | 오픈소스 Vision LLM | 이미지 이해 및 대화 |
| **Stable Diffusion** | 이미지 생성 모델 | 텍스트 프롬프트로 이미지 생성 |

### 💡 사용 예시 프롬프트

```markdown
🔹 시나리오 1: 영상 자막 생성
"Whisper Large v3 모델을 사용하여 1시간짜리 강의 영상에서
타임스탬프가 포함된 자막(SRT)을 생성하는 파이프라인을 구현해줘."

🔹 시나리오 2: 이미지 검색 시스템
"CLIP 모델을 사용하여 10만 장의 사진 데이터베이스에서
'해변에서 놀고 있는 강아지'라는 텍스트로 사진을 검색하는 코드를 작성해줘."

🔹 시나리오 3: 영수증 정보 추출
"Qwen-VL 모델에 영수증 사진을 입력하고,
상점명, 날짜, 총액을 JSON으로 추출하도록 요청하는 프롬프트를 알려줘."
```

### 🔗 연계 스킬
- **→ 15-RAG**: 멀티모달 RAG (이미지 검색)
- **→ 01-Model Architecture**: 멀티모달 모델 구조 이해

---

## 19. Emerging Techniques (신기술)

### 📖 설명
빠르게 발전하는 AI 분야의 최신 연구 기법들을 다룹니다. 모델 병합(Merge), 전문가 혼합(MoE), 모델 가지치기(Pruning) 등 실험적이고 강력한 기술입니다.

### 🎯 언제 사용하나요?
- 추가 학습 없이 두 모델의 장점(예: 코딩+수학)을 합치고 싶을 때 (Merging)
- 거대 모델의 지식을 작은 모델로 옮기고 싶을 때 (Distillation)
- 추론 속도를 높이기 위해 추측적 디코딩을 적용할 때
- 최신 논문에 나온 기법(Task Arithmetic 등)을 실험해보고 싶을 때

### 📦 핵심 도구
| 도구 | 설명 | 용도 |
|------|------|------|
| **Mergekit** | 모델 병합 툴킷 | SLERP, TIES, DARE 등 다양한 병합 알고리즘 |
| **MoE Training** | Mixture of Experts 학습 | Sparse 모델 학습 및 미세조정 |
| **Knowledge Distillation** | 지식 증류 | Teacher 모델 → Student 모델 학습 |
| **Speculative Decoding** | 추론 가속 기법 | 작은 모델로 초안 생성 후 검증 |

### 💡 사용 예시 프롬프트

```markdown
🔹 시나리오 1: 모델 병합
"Mergekit 라이브러리를 사용하여 Llama-3-Instruct 모델과 
코딩 특화 모델을 SLERP 방식으로 병합하는 설정 파일(YAML)을 만들어줘."

🔹 시나리오 2: 지식 증류
"70B 모델의 출력을 정답지(Label)로 사용하여 7B 모델을 학습시키는
지식 증류(Knowledge Distillation) 파이프라인을 구현해줘."

🔹 시나리오 3: 추측적 디코딩
"vLLM에서 드래프트 모델(Draft Model)을 설정하여
추측적 디코딩(Speculative Decoding)으로 추론 속도를 2배 높이는 방법을 알려줘."
```

### 🔗 연계 스킬
- **→ 03-Fine-tuning**: 병합 전 모델 미세조정
- **→ 01-Model Architecture**: MoE 아키텍처 이해
