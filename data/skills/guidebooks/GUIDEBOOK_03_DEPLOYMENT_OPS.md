# π€ Part 3: λ°°ν¬ λ° μ΄μ (Deployment & Ops)

> **"λ¨λΈμ„ ν„μ‹¤ μ„Έκ³„λ΅: μΈν”„λΌ κµ¬μ¶•λ¶€ν„° λ¨λ‹ν„°λ§κΉμ§€"**
>
> μ΄ κ°€μ΄λ“λ¶μ€ ν•™μµλ λ¨λΈμ„ μ„λΉ„μ¤λ΅ λ°°ν¬(12), μΈν”„λΌ κ΄€λ¦¬(09), μ΄μ μλ™ν™”(13), κ·Έλ¦¬κ³  μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§(17)ν•λ” λ°©λ²•μ„ λ‹¤λ£Ήλ‹λ‹¤.

---

## π“‘ λ©μ°¨
- [09. Infrastructure (μΈν”„λΌ)](#09-infrastructure-μΈν”„λΌ)
- [12. Inference Serving (μ¶”λ΅  μ„λΉ™)](#12-inference-serving-μ¶”λ΅ -μ„λΉ™)
- [13. MLOps (ML μ΄μ)](#13-mlops-ml-μ΄μ)
- [17. Observability (κ΄€μ°° κ°€λ¥μ„±)](#17-observability-κ΄€μ°°-κ°€λ¥μ„±)
- [β¬…οΈ λ©”μΈμΌλ΅ λμ•„κ°€κΈ°](./GUIDEBOOK_INDEX.md)

---

## 09. Infrastructure (μΈν”„λΌ)

### π“– μ„¤λ…
GPU ν΄λΌμ°λ“, μ„λ²„λ¦¬μ¤ μ»¨ν…μ΄λ„, μΏ λ²„λ„¤ν‹°μ¤ λ“± AI μ›ν¬λ΅λ“λ¥Ό μ„ν• μΈν”„λΌλ¥Ό κµ¬μ¶•ν•κ³  κ΄€λ¦¬ν•λ” μ¤ν‚¬μ…λ‹λ‹¤. Modalκ³Ό κ°™μ€ μµμ‹  μ„λ²„λ¦¬μ¤ ν”λ«νΌμ„ ν™μ©ν•μ—¬ λ³µμ΅ν• μΈν”„λΌ κ΄€λ¦¬ μ—†μ΄ GPUλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

### π― μ–Έμ  μ‚¬μ©ν•λ‚μ”?
- μ¨λ””λ§¨λ“(On-demand)λ΅ κ³ μ„±λ¥ GPU(H100, A100)κ°€ ν•„μ”ν•  λ•
- ML λ¨λΈμ„ μ„λ²„λ¦¬μ¤ APIλ΅ λ°°ν¬ν•μ—¬ λΉ„μ©μ„ μµμ ν™”ν•  λ•
- λ€κ·λ¨ λ°°μΉ μ¶”λ΅  μ‘μ—…μ„ λ³‘λ ¬λ΅ μ‹¤ν–‰ν•  λ•
- μΈν”„λΌ μ„¤μ •(Docker, K8s) μ—†μ΄ νμ΄μ¬ μ½”λ“λ΅ μΈν”„λΌλ¥Ό μ •μν•κ³  μ‹¶μ„ λ•

### π“¦ ν•µμ‹¬ λ„κµ¬
| λ„κµ¬ | μ„¤λ… | μ¥μ  |
|------|------|------|
| **Modal** | AI νΉν™” μ„λ²„λ¦¬μ¤ ν”λ«νΌ | PythonμΌλ΅ μΈν”„λΌ μ •μ, μ΄κ³ μ† μ½λ“μ¤νƒ€νΈ |
| **SkyPilot** | λ©€ν‹° ν΄λΌμ°λ“ GPU μ¤μΌ€μ¤„λ¬ | AWS/GCP/Azure μ¤‘ μµμ €κ°€ GPU μλ™ μ„ νƒ |
| **RunPod / Lambda** | GPU ν΄λΌμ°λ“ μ κ³µμ | μ €λ ΄ν• μ‹κ°„λ‹Ή λΉ„μ© |
| **Docker / K8s** | μ»¨ν…μ΄λ„ μ¤μΌ€μ¤νΈλ μ΄μ… | ν‘μ¤€ν™”λ λ°°ν¬ ν™κ²½ |

### π’΅ μ‚¬μ© μμ‹ ν”„λ΅¬ν”„νΈ

```markdown
π”Ή μ‹λ‚λ¦¬μ¤ 1: μ„λ²„λ¦¬μ¤ μ¶”λ΅  API
"Modalμ„ μ‚¬μ©ν•΄μ„ LLM μ¶”λ΅  APIλ¥Ό λ°°ν¬ν•΄μ¤.
A100 GPUμ—μ„ vLLMμ„ μ‹¤ν–‰ν•κ³  νΈλν”½μ— λ”°λΌ μλ™ μ¤μΌ€μΌλ§(0->N)λλ„λ΅ μ„¤μ •ν•΄μ¤."

π”Ή μ‹λ‚λ¦¬μ¤ 2: μ •κΈ° ν•™μµ νμ΄ν”„λΌμΈ
"Modal Scheduleμ„ μ‚¬μ©ν•΄μ„ λ§¤μΌ λ°¤ μƒλ΅μ΄ λ°μ΄ν„°λ΅ 
λ¨λΈμ„ fine-tuningν•λ” cron jobμ„ μ„¤μ •ν•λ” λ°©λ²•μ„ μ•λ ¤μ¤."

π”Ή μ‹λ‚λ¦¬μ¤ 3: λ©€ν‹° ν΄λΌμ°λ“ λ°°ν¬
"SkyPilotμΌλ΅ Llama-3 ν•™μµ μ‘μ—…μ„ AWSμ™€ GCP μ¤‘ 
λ” μ €λ ΄ν• κ³³μ—μ„ μλ™μΌλ΅ μ‹¤ν–‰ν•λ„λ΅ μ„¤μ •ν•΄μ¤."
```

### π”— μ—°κ³„ μ¤ν‚¬
- **β†’ 12-Inference Serving**: μΈν”„λΌ μ„μ— μ„λΉ™ μ—”μ§„ νƒ‘μ¬
- **β†’ 08-Distributed Training**: λ©€ν‹° λ…Έλ“ μΈν”„λΌ κµ¬μ„±

---

## 12. Inference Serving (μ¶”λ΅  μ„λΉ™)

### π“– μ„¤λ…
LLMμ„ ν”„λ΅λ•μ… ν™κ²½μ—μ„ κ³ μ„±λ¥, μ €μ§€μ—°(Low Latency)μΌλ΅ μ„λΉ™ν•λ” κΈ°μ μ…λ‹λ‹¤. OpenAI νΈν™ APIλ¥Ό κµ¬μ¶•ν•κ³ , λ™μ‹ μ ‘μ†μλ¥Ό μ²λ¦¬ν•κΈ° μ„ν• μ²λ¦¬λ‰(Throughput)μ„ μµμ ν™”ν•©λ‹λ‹¤.

### π― μ–Έμ  μ‚¬μ©ν•λ‚μ”?
- LLM κΈ°λ° μ„λΉ„μ¤λ¥Ό μ‹¤μ  μ‚¬μ©μμ—κ² λ°°ν¬ν•  λ•
- μμ² λ…μ λ™μ‹ μ‚¬μ©μλ¥Ό μ²λ¦¬ν•΄μ•Ό ν•  λ•
- OpenAI APIμ™€ λ™μΌν• μΈν„°νμ΄μ¤λ΅ μμ²΄ λ¨λΈμ„ μ„λΉ™ν•  λ•
- μ ν•λ GPU λ©”λ¨λ¦¬μ—μ„ ν° λ¨λΈμ„ ν¨μ¨μ μΌλ΅ λλ¦¬κ³  μ‹¶μ„ λ•

### π“¦ ν•µμ‹¬ λ„κµ¬
| λ„κµ¬ | μ„¤λ… | νΉμ§• |
|------|------|------|
| **vLLM** | ν„μ¬ ν‘μ¤€μΈ κ³ μ„±λ¥ μ„λΉ™ μ—”μ§„ | PagedAttention, Continuous Batching μ§€μ› |
| **TensorRT-LLM** | NVIDIA μµμ ν™” μ„λΉ™ | NVIDIA GPUμ—μ„ κ·Ήκ°•μ μ„±λ¥ λ°ν |
| **TGI** | HuggingFace ν…μ¤νΈ μƒμ„± μ¶”λ΅  | μ•μ •μ μ΄κ³  λ‹¤μ–‘ν• λ¨λΈ μ§€μ› |
| **llama.cpp** | CPU/μ—£μ§€ λ””λ°”μ΄μ¤ μ¶”λ΅  | λ§¥λ¶, λΌμ¦λ² λ¦¬νμ΄ λ“± μ €μ‚¬μ–‘ ν™κ²½ μ§€μ› |

### π’΅ μ‚¬μ© μμ‹ ν”„λ΅¬ν”„νΈ

```markdown
π”Ή μ‹λ‚λ¦¬μ¤ 1: vLLM ν”„λ΅λ•μ… λ°°ν¬
"vLLMμΌλ΅ Llama-3 70Bλ¥Ό OpenAI νΈν™ APIλ΅ λ°°ν¬ν•΄μ¤.
AWQ μ–‘μν™” λ¨λΈμ„ μ‚¬μ©ν•κ³  ν…μ„ λ³‘λ ¬(TP) 4λ΅ μ„¤μ •ν•΄μ¤."

π”Ή μ‹λ‚λ¦¬μ¤ 2: μ„±λ¥ νλ‹
"vLLM μ„λ²„μ `max_num_batched_tokens`μ™€ `gpu_memory_utilization` 
νλΌλ―Έν„°λ¥Ό μ΅°μ •ν•μ—¬ μ²λ¦¬λ‰μ„ μµμ ν™”ν•λ” λ°©λ²•μ„ μ•λ ¤μ¤."

π”Ή μ‹λ‚λ¦¬μ¤ 3: μ—£μ§€ λ””λ°”μ΄μ¤ λ°°ν¬
"llama.cppλ¥Ό μ‚¬μ©ν•μ—¬ M2 λ§¥λ¶μ΄λ‚ μΌλ° λ…ΈνΈλ¶(CPU)μ—μ„ 
7B λ¨λΈμ„ μ‹¤ν–‰ν•κ³  Python λ°”μΈλ”©μΌλ΅ μ μ–΄ν•λ” λ°©λ²•μ„ λ³΄μ—¬μ¤."
```

### π”— μ—°κ³„ μ¤ν‚¬
- **β†’ 10-Optimization**: μ–‘μν™” λ¨λΈ μ„λΉ™
- **β†’ 17-Observability**: μ„λΉ™ λ©”νΈλ¦­ λ¨λ‹ν„°λ§

---

## 13. MLOps (ML μ΄μ)

### π“– μ„¤λ…
λ¨Έμ‹ λ¬λ‹ μ‹¤ν— μ¶”μ , λ¨λΈ λ μ§€μ¤νΈλ¦¬ κ΄€λ¦¬, νμ΄ν”„λΌμΈ μλ™ν™” λ“± ML μλ…μ£ΌκΈ° μ „λ°μ„ κ΄€λ¦¬ν•λ” μ¤ν‚¬μ…λ‹λ‹¤. μ§€μ†μ  ν•™μµ(CT)κ³Ό λ°°ν¬(CD)λ¥Ό κ°€λ¥ν•κ² ν•©λ‹λ‹¤.

### π― μ–Έμ  μ‚¬μ©ν•λ‚μ”?
- μμ‹­ λ²μ μ‹¤ν— κ²°κ³Όλ¥Ό μ²΄κ³„μ μΌλ΅ κΈ°λ΅ν•κ³  λΉ„κµν•  λ•
- μµμ μ ν•μ΄νΌνλΌλ―Έν„° μ΅°ν•©μ„ μ°Ύμ„ λ• (Hyperparameter Sweep)
- ν•™μµλ λ¨λΈμ„ λ²„μ „λ³„λ΅ κ΄€λ¦¬ν•κ³  λ°°ν¬ μΉμΈ ν”„λ΅μ„Έμ¤λ¥Ό λ§λ“¤ λ•
- ν€μ›λ“¤κ³Ό μ‹¤ν— κ²°κ³Ό λ° λ¦¬ν¬νΈλ¥Ό κ³µμ ν•  λ•

### π“¦ ν•µμ‹¬ λ„κµ¬
| λ„κµ¬ | μ„¤λ… | μ‚¬μ© μ‚¬λ΅€ |
|------|------|----------|
| **Weights & Biases (W&B)** | μ‹¤ν— μ¶”μ  λ° μ‹κ°ν™” ν‘μ¤€ | ν•™μµ λ΅κ·Έ, μ‹μ¤ν… λ©”νΈλ¦­, κ²°κ³Ό μ‹κ°ν™” |
| **MLflow** | μ¤ν”μ†μ¤ ML λΌμ΄ν”„μ‚¬μ΄ν΄ | λ¨λΈ λ μ§€μ¤νΈλ¦¬, λ°°ν¬ κ΄€λ¦¬ |
| **DVC** | λ°μ΄ν„° λ²„μ „ κ΄€λ¦¬ | λ°μ΄ν„°μ…‹ λ³€κ²½ μ΄λ ¥ μ¶”μ  |
| **GitHub Actions** | CI/CD μλ™ν™” | λ¨λΈ ν•™μµ/ν‰κ°€ μλ™ νΈλ¦¬κ±° |

### π’΅ μ‚¬μ© μμ‹ ν”„λ΅¬ν”„νΈ

```markdown
π”Ή μ‹λ‚λ¦¬μ¤ 1: μ‹¤ν— μ¶”μ  ν†µν•©
"HuggingFace Trainerμ— Weights & Biasesλ¥Ό ν†µν•©ν•΄μ„ 
loss, learning rate, GPU μ‚¬μ©λ‰μ„ μ‹¤μ‹κ°„μΌλ΅ λ€μ‹λ³΄λ“μ— κΈ°λ΅ν•΄μ¤."

π”Ή μ‹λ‚λ¦¬μ¤ 2: ν•μ΄νΌνλΌλ―Έν„° μµμ ν™”
"W&B Sweepsλ¥Ό μ„¤μ •ν•΄μ„ learning rate(1e-5~5e-5)μ™€ batch size(8, 16, 32)μ
μµμ  μ΅°ν•©μ„ λ² μ΄μ§€μ• μµμ ν™”λ΅ μ°Ύμ•„μ¤."

π”Ή μ‹λ‚λ¦¬μ¤ 3: λ¨λΈ λ μ§€μ¤νΈλ¦¬
"MLflowλ¥Ό μ‚¬μ©ν•μ—¬ ν•™μµλ λ¨λΈ μ•„ν‹°ν©νΈλ¥Ό μ €μ¥ν•κ³ , 
'Staging'μ—μ„ 'Production'μΌλ΅ μƒνƒλ¥Ό λ³€κ²½ν•λ” μ›ν¬ν”λ΅μ°λ¥Ό κµ¬ν„ν•΄μ¤."
```

### π”— μ—°κ³„ μ¤ν‚¬
- **β†’ 03-Fine-tuning**: ν•™μµ μ¤ν¬λ¦½νΈμ— λ΅κΉ… μ¶”κ°€
- **β†’ 11-Evaluation**: ν‰κ°€ κ²°κ³Όλ¥Ό MLOps λ€μ‹λ³΄λ“μ— ν†µν•©

---

## 17. Observability (κ΄€μ°° κ°€λ¥μ„±)

### π“– μ„¤λ…
LLM μ• ν”λ¦¬μΌ€μ΄μ…μ μ‹¤ν–‰ νλ¦„μ„ μ¶”μ (Tracing), λ””λ²„κΉ…, ν‰κ°€ν•λ” μ¤ν‚¬μ…λ‹λ‹¤. λΈ”λ™λ°•μ¤ κ°™μ€ LLMμ λ™μ‘μ„ ν¬λ…ν•κ² νμ•…ν•©λ‹λ‹¤.

### π― μ–Έμ  μ‚¬μ©ν•λ‚μ”?
- RAG μ²΄μΈμ μ¤‘κ°„ λ‹¨κ³„(κ²€μƒ‰ κ²°κ³Ό, ν”„λ΅¬ν”„νΈ)λ¥Ό ν™•μΈν•κ³  μ‹¶μ„ λ•
- LLM μ‘λ‹µμ΄ μ™ μ΄μƒν•μ§€ λ””λ²„κΉ…ν•  λ•
- ν† ν° μ‚¬μ©λ‰κ³Ό λΉ„μ©μ„ μ‚¬μ©μλ³„/ν”„λ΅μ νΈλ³„λ΅ μ¶”μ ν•  λ•
- ν”„λ΅λ•μ… λ°μ΄ν„°λ΅ μ¨λΌμΈ ν‰κ°€λ¥Ό μν–‰ν•  λ•

### π“¦ ν•µμ‹¬ λ„κµ¬
| λ„κµ¬ | μ„¤λ… | νΉμ§• |
|------|------|------|
| **LangSmith** | LangChain ν†µν•© κ΄€μ°° ν”λ«νΌ | μ›ν΄λ¦­ νΈλ μ΄μ‹±, λ°μ΄ν„°μ…‹ ν‰κ°€, ν”„λ΅¬ν”„νΈ κ΄€λ¦¬ |
| **Arize Phoenix** | μ¤ν”μ†μ¤ LLM κ΄€μ°°μ„± | λ΅μ»¬ μ‹¤ν–‰ κ°€λ¥, μ„λ² λ”© μ‹κ°ν™” μ§€μ› |
| **Helicone** | LLM ν”„λ΅μ‹ λ° λ¨λ‹ν„°λ§ | μΊμ‹±, λΉ„μ© λ¶„μ„, λ μ΄ν„΄μ‹ μ¶”μ  |

### π’΅ μ‚¬μ© μμ‹ ν”„λ΅¬ν”„νΈ

```markdown
π”Ή μ‹λ‚λ¦¬μ¤ 1: LangChain νΈλ μ΄μ‹±
"LangSmith ν™κ²½λ³€μλ¥Ό μ„¤μ •ν•μ—¬ LangChain μ• ν”λ¦¬μΌ€μ΄μ…μ 
λ¨λ“  μ²΄μΈκ³Ό μ—μ΄μ „νΈ μ‹¤ν–‰μ„ μλ™μΌλ΅ μ¶”μ ν•λ„λ΅ ν•΄μ¤."

π”Ή μ‹λ‚λ¦¬μ¤ 2: RAG λ””λ²„κΉ…
"κ²€μƒ‰λ λ¬Έμ„κ°€ μ μ ν–λ”μ§€, LLMμ΄ λ¬Έμ„λ¥Ό λ¬΄μ‹ν•μ§€ μ•μ•λ”μ§€
LangSmith νΈλ μ΄μ¤μ—μ„ ν™•μΈν•κ³  λ””λ²„κΉ…ν•λ” λ°©λ²•μ„ μ•λ ¤μ¤."

π”Ή μ‹λ‚λ¦¬μ¤ 3: λ°μ΄ν„°μ…‹ κΈ°λ° ν‰κ°€
"μ‹¤μ  μ μ € λ€ν™” λ΅κ·Έλ¥Ό μμ§‘ν•μ—¬ ν…μ¤νΈ λ°μ΄ν„°μ…‹μ„ λ§λ“¤κ³ ,
μƒλ΅μ΄ ν”„λ΅¬ν”„νΈ λ²„μ „μ μ„±λ¥μ„ μλ™ ν‰κ°€ν•λ” νμ΄ν”„λΌμΈμ„ κµ¬μ¶•ν•΄μ¤."
```

### π”— μ—°κ³„ μ¤ν‚¬
- **β†’ 14-Agents**: λ³µμ΅ν• μ—μ΄μ „νΈ μ‚¬κ³  κ³Όμ • μ¶”μ 
- **β†’ 15-RAG**: κ²€μƒ‰ ν’μ§ λ¨λ‹ν„°λ§
